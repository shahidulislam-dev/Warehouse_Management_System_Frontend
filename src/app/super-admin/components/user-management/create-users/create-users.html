<mat-dialog-content class="p-6 min-w-[90vw] md:min-w-[500px]">
  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-xl font-bold text-gray-800">
      {{ isSuperAdminCreation ? 'Create Super Admin' : 'Create Staff User' }}
    </h2>
    <button mat-icon-button (click)="onCancel()" class="text-gray-400 hover:text-gray-600" type="button">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Form -->
  <form [formGroup]="userForm" class="space-y-6">
    <!-- Full Name Field -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Full Name *</label>
      <mat-form-field appearance="outline" class="w-full">
        <input matInput formControlName="fullName" placeholder="Enter full name" maxlength="100">
        <mat-icon matSuffix class="text-gray-400">person</mat-icon>
        <mat-hint align="end">{{ userForm.get('fullName')?.value?.length || 0 }}/100</mat-hint>
        @if (userForm.get('fullName')?.hasError('required')) {
          <mat-error>Full name is required</mat-error>
        }
      </mat-form-field>
    </div>

    <!-- Contact Number Field -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Contact Number *</label>
      <mat-form-field appearance="outline" class="w-full">
        <input matInput formControlName="contactNumber" placeholder="Enter contact number" type="tel">
        <mat-icon matSuffix class="text-gray-400">phone</mat-icon>
        @if (userForm.get('contactNumber')?.hasError('required')) {
          <mat-error>Contact number is required</mat-error>
        }
        @if (userForm.get('contactNumber')?.hasError('pattern')) {
          <mat-error>Please enter a valid contact number</mat-error>
        }
      </mat-form-field>
    </div>

    <!-- Email Field -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Email *</label>
      <mat-form-field appearance="outline" class="w-full">
        <input matInput formControlName="email" placeholder="Enter email address" type="email">
        <mat-icon matSuffix class="text-gray-400">email</mat-icon>
        @if (userForm.get('email')?.hasError('required')) {
          <mat-error>Email is required</mat-error>
        }
        @if (userForm.get('email')?.hasError('email')) {
          <mat-error>Please enter a valid email address</mat-error>
        }
      </mat-form-field>
    </div>

    <!-- Password Field -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-gray-700">Password *</label>
      <mat-form-field appearance="outline" class="w-full">
        <input matInput formControlName="password" placeholder="Enter password" type="password">
        <mat-icon matSuffix class="text-gray-400">lock</mat-icon>
        @if (userForm.get('password')?.hasError('required')) {
          <mat-error>Password is required</mat-error>
        }
        @if (userForm.get('password')?.hasError('minlength')) {
          <mat-error>Password must be at least 6 characters</mat-error>
        }
      </mat-form-field>
    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions class="p-6 pt-0 justify-end gap-3">
  <div class="flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 w-full gap-3">
    <button type="button" (click)="onCancel()" [disabled]="loading" mat-button 
            class="w-full sm:w-auto px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 font-medium disabled:opacity-50">
      Cancel
    </button>
    <button type="button" [disabled]="userForm.invalid || loading" mat-raised-button 
            [color]="isSuperAdminCreation ? 'accent' : 'primary'"
            class="w-full sm:w-auto px-4 py-2 rounded-lg text-white transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
            [class.bg-purple-600]="isSuperAdminCreation"
            [class.hover:bg-purple-700]="isSuperAdminCreation"
            [class.bg-green-600]="!isSuperAdminCreation"
            [class.hover:bg-green-700]="!isSuperAdminCreation"
            (click)="onSubmit()">
      @if (loading) {
        <mat-spinner diameter="20"></mat-spinner>
      }
      <span>{{ loading ? 'Creating...' : (isSuperAdminCreation ? 'Create Super Admin' : 'Create User') }}</span>
    </button>
  </div>
</mat-dialog-actions>